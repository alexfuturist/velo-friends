{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","components/Common/Paginator/Paginator.module.scss","components/Main/Content/Users/User/User.module.scss","components/Main/Content/Users/Users.module.scss","components/Common/Paginator/Paginator.jsx","components/Main/Content/Users/User/User.jsx","components/Main/Content/Users/Users.jsx","components/Main/Content/Users/UsersContainer.jsx"],"names":["_objectWithoutProperties","source","excluded","key","i","target","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call","module","exports","Paginator","totalUsersCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","s","pagination","cn","pagination__button","pagination__buttonLeft","onClick","filter","p","map","paginationPage","paginationPageSelected","e","pagination__buttonRight","User","u","props","id","users__item","users__img","to","src","photos","small","userPhotoDefault","alt","followed","disabled","followingInProgress","some","unfollow","users__button__unfollow","users__button","active","hover","follow","users__button__follow","users__info","users__infoTop","users__name","name","users__city","users__infoBottom","users__status","status","users__country","Users","users","UsersContainer","pageNumber","updateUsers","this","requestUsers","isFetching","Preloader","unfollowSucces","followSucces","React","Component","compose","connect","state","getUsers","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","toggleFollowingInProgress","withAuthRedirect"],"mappings":"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","file":"static/js/5.ae0faa1f.chunk.js","sourcesContent":["import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Paginator_pagination__6yRtR\",\"paginationPage\":\"Paginator_paginationPage__2wDqV\",\"paginationPageSelected\":\"Paginator_paginationPageSelected__59LGh\",\"pagination__button\":\"Paginator_pagination__button__1zO6T\",\"pagination__buttonLeft\":\"Paginator_pagination__buttonLeft__2xjXh\",\"pagination__buttonRight\":\"Paginator_pagination__buttonRight__kFEXV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users__item\":\"User_users__item__2scoX\",\"users__img\":\"User_users__img__AXWUN\",\"users__button\":\"User_users__button__2Porj\",\"users__info\":\"User_users__info__38V99\",\"users__infoTop\":\"User_users__infoTop__xtnNg\",\"users__name\":\"User_users__name__2_yo3\",\"users__status\":\"User_users__status__2UBrI\",\"users__infoBottom\":\"User_users__infoBottom__ueM-N\",\"users__city\":\"User_users__city__373tv\",\"users__country\":\"User_users__country__1H_hz\",\"users__button__follow\":\"User_users__button__follow__1FF8o\",\"users__button__unfollow\":\"User_users__button__unfollow__3f4c-\",\"active\":\"User_active__36KgB\",\"hover\":\"User_hover__1PxS2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__2Leia\"};","import React, { useState } from 'react';\r\nimport cn from \"classnames\";\r\nimport s from './Paginator.module.scss';\r\n\r\nlet Paginator = ({ totalUsersCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => {\r\n\r\n  //кол-во страниц\r\n  let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n\r\n  //массив страниц пагинации\r\n  let pages = [];\r\n\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  //кол-во порций\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n\r\n  //LS для текущей порции\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={s.pagination}>\r\n      {portionNumber > 1 &&\r\n        <button className={ cn(s.pagination__button, s.pagination__buttonLeft )}\r\n          onClick={() => { setPortionNumber(portionNumber - 1) }}><div>➤</div></button>}\r\n\r\n      {pages\r\n        .filter(p => {\r\n          return (p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        })\r\n        .map(p => {\r\n          return (\r\n            <span className={`${s.paginationPage} ${currentPage === p && s.paginationPageSelected}`}\r\n              onClick={(e) => { onPageChanged(p) }} key={p}>\r\n              {p}\r\n            </span>\r\n          )\r\n        })\r\n      }\r\n\r\n      {portionCount > portionNumber &&\r\n        <button className={ cn(s.pagination__button, s.pagination__buttonRight )}\r\n          onClick={() => { setPortionNumber(portionNumber + 1) }}><div>➤</div></button>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport userPhotoDefault from '../../../../../assets/images/user_default.png';\r\nimport s from './User.module.scss';\r\n\r\nlet User = ({ u, ...props }) => {\r\n    return (\r\n        <div key={u.id} className={s.users__item}>\r\n            <div className={s.users__img}>\r\n\r\n                <NavLink to={'/profile/' + u.id}>\r\n                    <img src={u.photos.small !== null ? u.photos.small : userPhotoDefault} alt=\"\" />\r\n                </NavLink>\r\n\r\n                <div>\r\n                    {u.followed\r\n\r\n                        ?\r\n\r\n                        <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                            props.unfollow(u.id);\r\n                        }} className={`${s.users__button__unfollow} ${s.users__button} button`}>\r\n                            <span className={s.active}>Слідкую</span>\r\n                            <span className={s.hover}>Відписатись</span>\r\n                        </button>\r\n\r\n                        :\r\n\r\n                        <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                            props.follow(u.id);\r\n                        }} className={`${s.users__button__follow} ${s.users__button} button`}>\r\n                            Підписатись\r\n                    </button>\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            <div className={s.users__info}>\r\n                <div className={s.users__infoTop}>\r\n                    <p className={s.users__name}>{u.name}</p>\r\n                    <p className={s.users__city}>{\"city\"},</p>\r\n\r\n                </div>\r\n                <div className={s.users__infoBottom}>\r\n                    <p className={s.users__status}>{u.status}</p>\r\n                    <p className={s.users__country}>{\"country\"}</p>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Paginator from '../../../Common/Paginator/Paginator';\r\nimport User from './User/User';\r\nimport s from './Users.module.scss';\r\n\r\nconst Users = ({ totalUsersCount, pageSize, currentPage, onPageChanged, users, ...props }) => {\r\n  // debugger\r\n  return (\r\n    <section className={s.users} >\r\n      <Paginator totalUsersCount={totalUsersCount} pageSize={pageSize} currentPage={currentPage} onPageChanged={onPageChanged} />\r\n      <div>\r\n        {users.map(u => <User {...props} u={u} key={u.id} />)}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../../../hoc/AuthRedirect';\r\nimport {\r\n  followSucces,\r\n  unfollowSucces,\r\n  toggleFollowingInProgress,\r\n  requestUsers,\r\n  updateUsers,\r\n  unfollow,\r\n  follow\r\n} from '../../../../redux/users-reducer';\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../../../redux/users-selectors';\r\nimport Preloader from '../../../Common/Preloader/Preloader';\r\nimport Users from './Users';\r\n\r\n\r\n//внутренний контейнер\r\nclass UsersContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.updateUsers(pageNumber, this.props.pageSize);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          users={this.props.users}\r\n          unfollowSucces={this.props.unfollowSucces}\r\n          followSucces={this.props.followSucces}\r\n          followingInProgress={this.props.followingInProgress}\r\n          unfollow={this.props.unfollow}\r\n          follow={this.props.follow}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n};\r\n\r\n\r\n//внешний контейнер\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  }\r\n};\r\n\r\n\r\nexport default compose (\r\n  connect(mapStateToProps,\r\n    {\r\n      followSucces,\r\n      unfollowSucces,\r\n      toggleFollowingInProgress,\r\n      requestUsers,\r\n      updateUsers,\r\n      unfollow,\r\n      follow\r\n    }\r\n  ),\r\n  withAuthRedirect\r\n) (UsersContainer);"],"sourceRoot":""}