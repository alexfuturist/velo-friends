{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/Common/Paginator/Paginator.module.scss","components/Main/Content/Users/User/User.module.scss","components/Main/Content/Users/Users.module.scss","components/Common/Paginator/Paginator.tsx","components/Main/Content/Users/User/User.tsx","components/Main/Content/Users/Users.tsx","components/Main/Content/Users/UsersContainer.tsx"],"names":["_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","module","exports","Paginator","totalUsersCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","s","pagination","cn","pagination__button","pagination__buttonLeft","onClick","filter","p","map","paginationPage","paginationPageSelected","e","pagination__buttonRight","User","u","props","users__item","users__img","to","id","src","photos","small","userPhotoDefault","alt","followed","disabled","followingInProgress","some","unfollow","users__button__unfollow","users__button","active","hover","follow","users__button__follow","users__info","users__infoTop","users__name","name","users__city","users__infoBottom","users__status","status","users__country","Users","users","UsersContainer","pageNumber","updateUsers","this","requestUsers","isFetching","Preloader","React","Component","compose","connect","state","getUsers","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","withAuthRedirect"],"mappings":"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","file":"static/js/4.fb84e221.chunk.js","sourcesContent":["import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Paginator_pagination__6yRtR\",\"paginationPage\":\"Paginator_paginationPage__2wDqV\",\"paginationPageSelected\":\"Paginator_paginationPageSelected__59LGh\",\"pagination__button\":\"Paginator_pagination__button__1zO6T\",\"pagination__buttonLeft\":\"Paginator_pagination__buttonLeft__2xjXh\",\"pagination__buttonRight\":\"Paginator_pagination__buttonRight__kFEXV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users__item\":\"User_users__item__2scoX\",\"users__img\":\"User_users__img__AXWUN\",\"users__button\":\"User_users__button__2Porj\",\"users__info\":\"User_users__info__38V99\",\"users__infoTop\":\"User_users__infoTop__xtnNg\",\"users__name\":\"User_users__name__2_yo3\",\"users__status\":\"User_users__status__2UBrI\",\"users__infoBottom\":\"User_users__infoBottom__ueM-N\",\"users__city\":\"User_users__city__373tv\",\"users__country\":\"User_users__country__1H_hz\",\"users__button__follow\":\"User_users__button__follow__1FF8o\",\"users__button__unfollow\":\"User_users__button__unfollow__3f4c-\",\"active\":\"User_active__36KgB\",\"hover\":\"User_hover__1PxS2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__2Leia\"};","import React, { useState } from 'react'\r\nimport cn from 'classnames'\r\nimport s from './Paginator.module.scss'\r\n\r\ntype PropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (userID: number) => void\r\n    portionSize?: number\r\n}\r\n\r\nlet Paginator: React.FC<PropsType> = ({\r\n    totalUsersCount,\r\n    pageSize,\r\n    currentPage,\r\n    onPageChanged,\r\n    portionSize = 10,\r\n}) => {\r\n    //кол-во страниц\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize)\r\n\r\n    //массив страниц пагинации\r\n    let pages = []\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    //кол-во порций\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n\r\n    //LS для текущей порции\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className={s.pagination}>\r\n            {portionNumber > 1 && (\r\n                <button\r\n                    className={cn(\r\n                        s.pagination__button,\r\n                        s.pagination__buttonLeft\r\n                    )}\r\n                    onClick={() => {\r\n                        setPortionNumber(portionNumber - 1)\r\n                    }}\r\n                >\r\n                    <div>➤</div>\r\n                </button>\r\n            )}\r\n\r\n            {pages\r\n                .filter((p) => {\r\n                    return (\r\n                        p >= leftPortionPageNumber &&\r\n                        p <= rightPortionPageNumber\r\n                    )\r\n                })\r\n                .map((p) => {\r\n                    return (\r\n                        <span\r\n                            className={`${s.paginationPage} ${\r\n                                currentPage === p && s.paginationPageSelected\r\n                            }`}\r\n                            onClick={(e) => {\r\n                                onPageChanged(p)\r\n                            }}\r\n                            key={p}\r\n                        >\r\n                            {p}\r\n                        </span>\r\n                    )\r\n                })}\r\n\r\n            {portionCount > portionNumber && (\r\n                <button\r\n                    className={cn(\r\n                        s.pagination__button,\r\n                        s.pagination__buttonRight\r\n                    )}\r\n                    onClick={() => {\r\n                        setPortionNumber(portionNumber + 1)\r\n                    }}\r\n                >\r\n                    <div>➤</div>\r\n                </button>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport userPhotoDefault from '../../../../../assets/images/user_default.png'\r\nimport { UserType } from '../../../../../types/types'\r\nimport s from './User.module.scss'\r\n\r\ntype PropsType = {\r\n    u: UserType\r\n    followingInProgress: number[]\r\n\r\n    unfollow: (userId: number) => void\r\n    follow: (userId: number) => void\r\n}\r\n\r\nlet User: React.FC<PropsType> = ({ u, ...props }) => {\r\n    return (\r\n        <div key={u.id} className={s.users__item}>\r\n            <div className={s.users__img}>\r\n                <NavLink to={'/profile/' + u.id}>\r\n                    <img\r\n                        src={\r\n                            u.photos.small !== null\r\n                                ? u.photos.small\r\n                                : userPhotoDefault\r\n                        }\r\n                        alt=\"\"\r\n                    />\r\n                </NavLink>\r\n\r\n                <div>\r\n                    {u.followed ? (\r\n                        <button\r\n                            disabled={props.followingInProgress.some(\r\n                                (id) => id === u.id\r\n                            )}\r\n                            onClick={() => {\r\n                                props.unfollow(u.id)\r\n                            }}\r\n                            className={`${s.users__button__unfollow} ${s.users__button} button`}\r\n                        >\r\n                            <span className={s.active}>Слідкую</span>\r\n                            <span className={s.hover}>Відписатись</span>\r\n                        </button>\r\n                    ) : (\r\n                        <button\r\n                            disabled={props.followingInProgress.some(\r\n                                (id) => id === u.id\r\n                            )}\r\n                            onClick={() => {\r\n                                props.follow(u.id)\r\n                            }}\r\n                            className={`${s.users__button__follow} ${s.users__button} button`}\r\n                        >\r\n                            Підписатись\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div className={s.users__info}>\r\n                <div className={s.users__infoTop}>\r\n                    <p className={s.users__name}>{u.name}</p>\r\n                    <p className={s.users__city}>{'city'},</p>\r\n                </div>\r\n                <div className={s.users__infoBottom}>\r\n                    <p className={s.users__status}>{u.status}</p>\r\n                    <p className={s.users__country}>{'country'}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User\r\n","import React from 'react'\r\nimport { UserType } from '../../../../types/types'\r\nimport Paginator from '../../../Common/Paginator/Paginator'\r\nimport User from './User/User'\r\nimport s from './Users.module.scss'\r\n\r\ntype PropsType = {\r\n    users: UserType[]\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    followingInProgress: number[]\r\n\r\n    unfollow: (userId: number) => void\r\n    follow: (userId: number) => void\r\n    onPageChanged: (pageNumber: number) => void\r\n}\r\n\r\nconst Users: React.FC<PropsType> = ({\r\n    totalUsersCount,\r\n    pageSize,\r\n    currentPage,\r\n    onPageChanged,\r\n    users,\r\n    ...props\r\n}) => {\r\n    return (\r\n        <section className={s.users}>\r\n            <Paginator\r\n                totalUsersCount={totalUsersCount}\r\n                pageSize={pageSize}\r\n                currentPage={currentPage}\r\n                onPageChanged={onPageChanged}\r\n            />\r\n            <div>\r\n                {users.map((u) => (\r\n                    <User {...props} u={u} key={u.id} />\r\n                ))}\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Users\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { withAuthRedirect } from '../../../../hoc/AuthRedirect'\r\nimport { AppStateType } from '../../../../redux/redux-store'\r\nimport {\r\n    requestUsers,\r\n    updateUsers,\r\n    unfollow,\r\n    follow,\r\n} from '../../../../redux/users-reducer'\r\nimport {\r\n    getUsers,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getCurrentPage,\r\n    getIsFetching,\r\n    getFollowingInProgress,\r\n} from '../../../../redux/users-selectors'\r\nimport { UserType } from '../../../../types/types'\r\nimport { Preloader } from '../../../Common/Preloader'\r\nimport Users from './Users'\r\n\r\ntype PropsType = {\r\n    users: UserType[]\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: number[]\r\n\r\n    requestUsers: (currentPage: number, pageSize: number) => void\r\n    updateUsers: (pageNumber: number, pageSize: number) => void\r\n    unfollow: (userId: number) => void\r\n    follow: (userId: number) => void\r\n}\r\n\r\n//внутренний контейнер\r\nclass UsersContainer extends React.Component<PropsType> {\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.updateUsers(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.props.isFetching ? <Preloader /> : null}\r\n                <Users\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    users={this.props.users}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                    onPageChanged={this.onPageChanged}\r\n                    unfollow={this.props.unfollow}\r\n                    follow={this.props.follow}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n//внешний контейнер\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        requestUsers,\r\n        updateUsers,\r\n        unfollow,\r\n        follow,\r\n    }),\r\n    withAuthRedirect\r\n)(UsersContainer) as React.ComponentType\r\n"],"sourceRoot":""}