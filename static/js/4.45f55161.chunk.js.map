{"version":3,"sources":["components/Common/Paginator/Paginator.module.scss","components/Main/Content/Users/User/User.module.scss","components/Main/Content/Users/Users.module.scss","redux/users-selectors.js","components/Common/Paginator/Paginator.jsx","assets/images/user_default.png","components/Main/Content/Users/User/User.jsx","components/Main/Content/Users/Users.jsx","components/Main/Content/Users/UsersContainer.jsx"],"names":["module","exports","getUsers","state","usersPage","users","getPageSize","pageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","s","pagination","onClick","filter","p","map","paginationPage","paginationPageSelected","e","User","u","props","key","id","users__item","users__img","to","src","photos","small","userPhotoDefault","alt","followed","disabled","some","unfollow","users__button__unfollow","users__button","active","hover","follow","users__button__follow","users__info","users__infoTop","users__name","name","users__city","users__infoBottom","users__status","status","users__country","Users","UsersContainer","pageNumber","updateUsers","this","requestUsers","Preloader","unfollowSucces","followSucces","React","Component","compose","connect","toggleFollowingInProgress","withAuthRedirect"],"mappings":"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","file":"static/js/4.45f55161.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Paginator_pagination__6yRtR\",\"paginationPage\":\"Paginator_paginationPage__2wDqV\",\"paginationPageSelected\":\"Paginator_paginationPageSelected__59LGh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users__item\":\"User_users__item__2scoX\",\"users__img\":\"User_users__img__AXWUN\",\"users__button\":\"User_users__button__2Porj\",\"users__info\":\"User_users__info__38V99\",\"users__infoTop\":\"User_users__infoTop__xtnNg\",\"users__name\":\"User_users__name__2_yo3\",\"users__status\":\"User_users__status__2UBrI\",\"users__infoBottom\":\"User_users__infoBottom__ueM-N\",\"users__city\":\"User_users__city__373tv\",\"users__country\":\"User_users__country__1H_hz\",\"users__button__follow\":\"User_users__button__follow__1FF8o\",\"users__button__unfollow\":\"User_users__button__unfollow__3f4c-\",\"active\":\"User_active__36KgB\",\"hover\":\"User_hover__1PxS2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__2Leia\"};","export const getUsers = (state) => {\r\n    return state.usersPage.users\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n};","import React, { useState } from 'react';\r\nimport s from './Paginator.module.scss';\r\n\r\nlet Paginator = ({ totalUsersCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => {\r\n\r\n  //кол-во страниц\r\n  let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n\r\n  //массив страниц пагинации\r\n  let pages = [];\r\n\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  //кол-во порций\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n\r\n  //LS для текущей порции\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={s.pagination}>\r\n      {portionNumber > 1 &&\r\n        <button onClick={ () => {setPortionNumber(portionNumber-1)} }>Prev</button>}\r\n\r\n      {pages\r\n        .filter(p => {\r\n          return (p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        })\r\n        .map(p => {\r\n          return (\r\n            <span className={`${s.paginationPage} ${currentPage === p && s.paginationPageSelected}`}\r\n              onClick={(e) => { onPageChanged(p) }}>\r\n              {p}\r\n            </span>\r\n          )\r\n        })\r\n      }\r\n\r\n      {portionCount > portionNumber &&\r\n        <button onClick={ () => {setPortionNumber(portionNumber+1)} }>Prev</button>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/user_default.883504fe.png\";","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport userPhotoDefault from '../../../../../assets/images/user_default.png';\r\nimport s from './User.module.scss';\r\n\r\nlet User = ({ u, ...props }) => {\r\n    return (\r\n        <div key={u.id} className={s.users__item}>\r\n            <div className={s.users__img}>\r\n\r\n                <NavLink to={'/profile/' + u.id}>\r\n                    <img src={u.photos.small !== null ? u.photos.small : userPhotoDefault} alt=\"\" />\r\n                </NavLink>\r\n\r\n                <div>\r\n                    {u.followed\r\n\r\n                        ?\r\n\r\n                        <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                            props.unfollow(u.id);\r\n                        }} className={`${s.users__button__unfollow} ${s.users__button} button`}>\r\n                            <span className={s.active}>Слідкую</span>\r\n                            <span className={s.hover}>Відписатись</span>\r\n                        </button>\r\n\r\n                        :\r\n\r\n                        <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                            props.follow(u.id);\r\n                        }} className={`${s.users__button__follow} ${s.users__button} button`}>\r\n                            Підписатись\r\n                    </button>\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            <div className={s.users__info}>\r\n                <div className={s.users__infoTop}>\r\n                    <p className={s.users__name}>{u.name}</p>\r\n                    <p className={s.users__city}>{\"u.location.city\"},</p>\r\n\r\n                </div>\r\n                <div className={s.users__infoBottom}>\r\n                    <p className={s.users__status}>{u.status}</p>\r\n                    <p className={s.users__country}>{\"u.location.country\"}</p>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Paginator from '../../../Common/Paginator/Paginator';\r\nimport User from './User/User';\r\nimport s from './Users.module.scss';\r\n\r\n\r\nconst Users = ({ totalUsersCount, pageSize, currentPage, onPageChanged, users, ...props }) => {\r\n  return (\r\n    <section className={s.users} >\r\n      <Paginator totalUsersCount={totalUsersCount} pageSize={pageSize} currentPage={currentPage} onPageChanged={onPageChanged} />\r\n      <div>\r\n        {users.map(u => <User {...props} u={u} />)}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n\r\n\r\n\r\n\r\n\r\n\r\n// let Users = (props) => {\r\n\r\n//   console.log(props.users.length);\r\n\r\n//   if (props.users.length === 0) {\r\n//     props.setUsers([\r\n//       {\r\n//         id: 1,\r\n//         followed: true,\r\n//         avatar: 'https://glavcom.ua/img/article/6194/8_main.jpg',\r\n//         fullName: 'Олег',\r\n//         status: 'Відпочиваю після концерту. Вовчиці дали вогню..)',\r\n//         location: {\r\n//           city: 'Київ',\r\n//           country: 'Україна'\r\n//         },\r\n//       }, {\r\n//         id: 2,\r\n//         followed: false,\r\n//         avatar: 'https://fdlx.com/wp-content/uploads/donald-tramp-uxodit-v-otpusk-dlya-uchastiya-v-otborochnyx-igrax-po-golfu.jpg',\r\n//         fullName: 'Donald',\r\n//         status: \"I'd better go play golf ..\",\r\n//         location: {\r\n//           city: 'Нью-Йорк',\r\n//           country: 'США'\r\n//         },\r\n//       }, {\r\n//         id: 3,\r\n//         followed: false,\r\n//         avatar: 'https://cdn.livesport.ru/l/hockey/2019/03/01/lukashenko/picture.jpg?1551464140',\r\n//         fullName: 'Александр',\r\n//         status: 'Я очень люблю спорт — это самое лучшее мое качество.',\r\n//         location: {\r\n//           city: 'Мінськ',\r\n//           country: 'Білорусь'\r\n//         },\r\n//       }, {\r\n//         id: 4,\r\n//         followed: true,\r\n//         avatar: 'https://delo.ua/files/news/images/3624/99/picture2_klichko-pronik-v-_362499_p0.jpg',\r\n//         fullName: 'Віталій',\r\n//         status: 'Дайте мне точку опоры! И я обопрусь.',\r\n//         location: {\r\n//           city: 'Київ',\r\n//           country: 'Україна'\r\n//         },\r\n//       }\r\n//     ])\r\n//   }\r\n\r\n//   console.log(props.users.length);\r\n\r\n\r\n//   return (\r\n//     <section className={s.users}>\r\n//       <div>\r\n//         {\r\n//           props.users.map(u => <div key={u.id} className={s.users__item}>\r\n//             <div className={s.users__img}>\r\n//               <img src={u.avatar} alt=\"\" />\r\n//               <div>\r\n//                 {u.followed\r\n//                   ? <button onClick={() => { props.unfollow(u.id) }} className={`${s.users__button__unfollow} ${s.users__button} button`}>\r\n//                     <span className={s.active}>Слідкую</span>\r\n//                     <span className={s.hover}>Відписатись</span>\r\n//                   </button>\r\n//                   : <button onClick={() => { props.follow(u.id) }} className={`${s.users__button__follow} ${s.users__button} button`}>\r\n//                     Підписатись\r\n//                   </button>\r\n//                 }\r\n//               </div>\r\n//             </div>\r\n\r\n//             <div className={s.users__info}>\r\n//               <div className={s.users__infoTop}>\r\n//                 <p className={s.users__name}>{u.fullName}</p>\r\n//                 <p className={s.users__city}>{u.location.city},</p>\r\n\r\n//               </div>\r\n//               <div className={s.users__infoBottom}>\r\n//                 <p className={s.users__status}>{u.status}</p>\r\n//                 <p className={s.users__country}>{u.location.country}</p>\r\n//               </div>\r\n//             </div>\r\n//           </div >)\r\n//         }\r\n//       </div>\r\n//     </section>\r\n//   );\r\n// }\r\n\r\n// export default Users;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../../../hoc/AuthRedirect';\r\nimport {\r\n  followSucces,\r\n  unfollowSucces,\r\n  toggleFollowingInProgress,\r\n  requestUsers,\r\n  updateUsers,\r\n  unfollow,\r\n  follow\r\n} from '../../../../redux/users-reducer';\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../../../redux/users-selectors';\r\nimport Preloader from '../../../Common/Preloader/Preloader';\r\nimport Users from './Users';\r\n\r\n\r\n//внутренний контейнер\r\nclass UsersContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.updateUsers(pageNumber, this.props.pageSize);\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          users={this.props.users}\r\n          unfollowSucces={this.props.unfollowSucces}\r\n          followSucces={this.props.followSucces}\r\n          followingInProgress={this.props.followingInProgress}\r\n          unfollow={this.props.unfollow}\r\n          follow={this.props.follow}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n};\r\n\r\n\r\n//внешний контейнер\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  }\r\n};\r\n\r\n\r\nexport default compose (\r\n  connect(mapStateToProps,\r\n    {\r\n      followSucces,\r\n      unfollowSucces,\r\n      toggleFollowingInProgress,\r\n      requestUsers,\r\n      updateUsers,\r\n      unfollow,\r\n      follow\r\n    }\r\n  ),\r\n  withAuthRedirect\r\n) (UsersContainer);"],"sourceRoot":""}