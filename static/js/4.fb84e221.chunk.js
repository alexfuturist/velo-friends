(this["webpackJsonpvelo-friends"]=this["webpackJsonpvelo-friends"]||[]).push([[4],{304:function(e,t,s){"use strict";function n(e,t){if(null==e)return{};var s,n,o=function(e,t){if(null==e)return{};var s,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(o[s]=e[s]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(o[s]=e[s])}return o}s.d(t,"a",(function(){return n}))},309:function(e,t,s){e.exports={pagination:"Paginator_pagination__6yRtR",paginationPage:"Paginator_paginationPage__2wDqV",paginationPageSelected:"Paginator_paginationPageSelected__59LGh",pagination__button:"Paginator_pagination__button__1zO6T",pagination__buttonLeft:"Paginator_pagination__buttonLeft__2xjXh",pagination__buttonRight:"Paginator_pagination__buttonRight__kFEXV"}},310:function(e,t,s){e.exports={users__item:"User_users__item__2scoX",users__img:"User_users__img__AXWUN",users__button:"User_users__button__2Porj",users__info:"User_users__info__38V99",users__infoTop:"User_users__infoTop__xtnNg",users__name:"User_users__name__2_yo3",users__status:"User_users__status__2UBrI",users__infoBottom:"User_users__infoBottom__ueM-N",users__city:"User_users__city__373tv",users__country:"User_users__country__1H_hz",users__button__follow:"User_users__button__follow__1FF8o",users__button__unfollow:"User_users__button__unfollow__3f4c-",active:"User_active__36KgB",hover:"User_hover__1PxS2"}},311:function(e,t,s){e.exports={users:"Users_users__2Leia"}},315:function(e,t,s){"use strict";s.r(t);var n=s(30),o=s(31),r=s(33),a=s(32),i=s(1),c=s.n(i),_=s(18),u=s(12),l=s(23),p=s(137),b=s(81),g=s(78),j=s(2),f=s(304),d=s(40),h=s(44),O=s.n(h),m=s(309),x=s.n(m),P=s(0),v=function(e){for(var t=e.totalUsersCount,s=e.pageSize,n=e.currentPage,o=e.onPageChanged,r=e.portionSize,a=void 0===r?10:r,c=Math.ceil(t/s),_=[],u=1;u<=c;u++)_.push(u);var l=Math.ceil(c/a),p=Object(i.useState)(1),b=Object(d.a)(p,2),g=b[0],j=b[1],f=(g-1)*a+1,h=g*a;return Object(P.jsxs)("div",{className:x.a.pagination,children:[g>1&&Object(P.jsx)("button",{className:O()(x.a.pagination__button,x.a.pagination__buttonLeft),onClick:function(){j(g-1)},children:Object(P.jsx)("div",{children:"\u27a4"})}),_.filter((function(e){return e>=f&&e<=h})).map((function(e){return Object(P.jsx)("span",{className:"".concat(x.a.paginationPage," ").concat(n===e&&x.a.paginationPageSelected),onClick:function(t){o(e)},children:e},e)})),l>g&&Object(P.jsx)("button",{className:O()(x.a.pagination__button,x.a.pagination__buttonRight),onClick:function(){j(g+1)},children:Object(P.jsx)("div",{children:"\u27a4"})})]})},U=s(22),w=s(49),y=s(310),N=s.n(y),C=function(e){var t=e.u,s=Object(f.a)(e,["u"]);return Object(P.jsxs)("div",{className:N.a.users__item,children:[Object(P.jsxs)("div",{className:N.a.users__img,children:[Object(P.jsx)(U.b,{to:"/profile/"+t.id,children:Object(P.jsx)("img",{src:null!==t.photos.small?t.photos.small:w.a,alt:""})}),Object(P.jsx)("div",{children:t.followed?Object(P.jsxs)("button",{disabled:s.followingInProgress.some((function(e){return e===t.id})),onClick:function(){s.unfollow(t.id)},className:"".concat(N.a.users__button__unfollow," ").concat(N.a.users__button," button"),children:[Object(P.jsx)("span",{className:N.a.active,children:"\u0421\u043b\u0456\u0434\u043a\u0443\u044e"}),Object(P.jsx)("span",{className:N.a.hover,children:"\u0412\u0456\u0434\u043f\u0438\u0441\u0430\u0442\u0438\u0441\u044c"})]}):Object(P.jsx)("button",{disabled:s.followingInProgress.some((function(e){return e===t.id})),onClick:function(){s.follow(t.id)},className:"".concat(N.a.users__button__follow," ").concat(N.a.users__button," button"),children:"\u041f\u0456\u0434\u043f\u0438\u0441\u0430\u0442\u0438\u0441\u044c"})})]}),Object(P.jsxs)("div",{className:N.a.users__info,children:[Object(P.jsxs)("div",{className:N.a.users__infoTop,children:[Object(P.jsx)("p",{className:N.a.users__name,children:t.name}),Object(P.jsxs)("p",{className:N.a.users__city,children:["city",","]})]}),Object(P.jsxs)("div",{className:N.a.users__infoBottom,children:[Object(P.jsx)("p",{className:N.a.users__status,children:t.status}),Object(P.jsx)("p",{className:N.a.users__country,children:"country"})]})]})]},t.id)},S=s(311),k=s.n(S),z=function(e){var t=e.totalUsersCount,s=e.pageSize,n=e.currentPage,o=e.onPageChanged,r=e.users,a=Object(f.a)(e,["totalUsersCount","pageSize","currentPage","onPageChanged","users"]);return Object(P.jsxs)("section",{className:k.a.users,children:[Object(P.jsx)(v,{totalUsersCount:t,pageSize:s,currentPage:n,onPageChanged:o}),Object(P.jsx)("div",{children:r.map((function(e){return Object(i.createElement)(C,Object(j.a)(Object(j.a)({},a),{},{u:e,key:e.id}))}))})]})},I=function(e){Object(r.a)(s,e);var t=Object(a.a)(s);function s(){var e;Object(n.a)(this,s);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.updateUsers(t,e.props.pageSize)},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(P.jsxs)("div",{children:[this.props.isFetching?Object(P.jsx)(g.a,{}):null,Object(P.jsx)(z,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,followingInProgress:this.props.followingInProgress,onPageChanged:this.onPageChanged,unfollow:this.props.unfollow,follow:this.props.follow})]})}}]),s}(c.a.Component);t.default=Object(u.d)(Object(_.b)((function(e){return{users:Object(b.i)(e),pageSize:Object(b.f)(e),totalUsersCount:Object(b.h)(e),currentPage:Object(b.a)(e),isFetching:Object(b.d)(e),followingInProgress:Object(b.b)(e)}}),{requestUsers:p.c,updateUsers:p.e,unfollow:p.d,follow:p.b}),l.a)(I)}}]);
//# sourceMappingURL=4.fb84e221.chunk.js.map